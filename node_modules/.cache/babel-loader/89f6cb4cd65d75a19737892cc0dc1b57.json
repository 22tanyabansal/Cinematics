{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Dell\\\\Downloads\\\\React-Movie-App-main\\\\React-Movie-App-main\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Dell\\\\Downloads\\\\React-Movie-App-main\\\\React-Movie-App-main\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Dell\\\\Downloads\\\\React-Movie-App-main\\\\React-Movie-App-main\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{Link}from\"react-router-dom\";import\"./Genres.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Genre=function Genre(_ref){var media=_ref.media,setFilterGenre=_ref.setFilterGenre,setPage=_ref.setPage,genreTitle=_ref.genreTitle,setGenreTitle=_ref.setGenreTitle,setTreadingContent=_ref.setTreadingContent,treadingContent=_ref.treadingContent,handleRedirect=_ref.handleRedirect;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),getGenre=_useState2[0],setGetGenre=_useState2[1];var navigate=useHistory();var fetchGenres=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!media){_context.next=7;break;}_context.next=4;return axios.get(\"https://api.themoviedb.org/3/genre/\".concat(media,\"/list?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setGetGenre(data.genres);case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchGenres(){return _ref2.apply(this,arguments);};}();var handleFilter=function handleFilter(genre){setFilterGenre([genre]);setPage(1);setGenreTitle(genre);if(media===\"tv\"){navigate.push(\"/\".concat(media,\"=series\").concat(genre.id,\"-Category\"));}else if(media===\"movie\"){navigate.push(\"/\".concat(media,\"-\").concat(genre.name,\"-Category\"));}else if(!media){navigate.push(\"/all-movies\");}};useEffect(function(){fetchGenres();return function(){setGetGenre();};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",style:{position:\"relative \"},children:[/*#__PURE__*/_jsxs(Link,{className:\"btn btn-secondary dropdown-toggle mybtn\",to:\"#\",role:\"button\",id:\"dropdownMenuLink\",\"data-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[\"Filter By:\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuLink\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title__genre\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"category__content\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"dropdown-item3\",onClick:handleFilter,children:[\"all \",media===\"movie\"?\"Movies\":\"Tv series\"]}),getGenre&&getGenre.map(function(genre){return/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return handleFilter(genre);},className:\"dropdown-item2\",children:genre.name},genre.id);})]})]})]})});};export default Genre;","map":{"version":3,"sources":["C:/Users/Dell/Downloads/React-Movie-App-main/React-Movie-App-main/src/components/Genres/Genre.js"],"names":["axios","React","useEffect","useState","useHistory","Link","Genre","media","setFilterGenre","setPage","genreTitle","setGenreTitle","setTreadingContent","treadingContent","handleRedirect","getGenre","setGetGenre","navigate","fetchGenres","get","process","env","REACT_APP_API_KEY","data","genres","console","log","handleFilter","genre","push","id","name","position","map"],"mappings":"weAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,cAAP,C,6IAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MASR,IARJC,CAAAA,KAQI,MARJA,KAQI,CAPJC,cAOI,MAPJA,cAOI,CANJC,OAMI,MANJA,OAMI,CALJC,UAKI,MALJA,UAKI,CAJJC,aAII,MAJJA,aAII,CAHJC,kBAGI,MAHJA,kBAGI,CAFJC,eAEI,MAFJA,eAEI,CADJC,cACI,MADJA,cACI,CACJ,cAAgCX,QAAQ,CAAC,EAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGb,UAAU,EAA3B,CACA,GAAMc,CAAAA,WAAW,2FAAG,iLAEZX,KAFY,+CAGSP,CAAAA,KAAK,CAACmB,GAAN,8CACiBZ,KADjB,0BACuCa,OAAO,CAACC,GAAR,CAAYC,iBADnD,oBAHT,uCAGNC,IAHM,kBAGNA,IAHM,CAMdP,WAAW,CAACO,IAAI,CAACC,MAAN,CAAX,CANc,sFAShBC,OAAO,CAACC,GAAR,cATgB,oEAAH,kBAAXR,CAAAA,WAAW,2CAAjB,CAaA,GAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BpB,cAAc,CAAC,CAACoB,KAAD,CAAD,CAAd,CACAnB,OAAO,CAAC,CAAD,CAAP,CACAE,aAAa,CAACiB,KAAD,CAAb,CACA,GAAIrB,KAAK,GAAK,IAAd,CAAoB,CAClBU,QAAQ,CAACY,IAAT,YAAkBtB,KAAlB,mBAAiCqB,KAAK,CAACE,EAAvC,eACD,CAFD,IAEO,IAAIvB,KAAK,GAAK,OAAd,CAAuB,CAC5BU,QAAQ,CAACY,IAAT,YAAkBtB,KAAlB,aAA2BqB,KAAK,CAACG,IAAjC,eACD,CAFM,IAEA,IAAI,CAACxB,KAAL,CAAY,CACjBU,QAAQ,CAACY,IAAT,CAAc,aAAd,EACD,CACF,CAXD,CAaA3B,SAAS,CAAC,UAAM,CACdgB,WAAW,GACX,MAAO,WAAM,CACXF,WAAW,GACZ,CAFD,CAGD,CALQ,CAKN,EALM,CAAT,CAOA,mBACE,sCACE,aAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAAEgB,QAAQ,CAAE,WAAZ,CAAjC,wBACE,MAAC,IAAD,EACE,SAAS,CAAC,yCADZ,CAEE,EAAE,CAAC,GAFL,CAGE,IAAI,CAAC,QAHP,CAIE,EAAE,CAAC,kBAJL,CAKE,cAAY,UALd,CAME,gBAAc,OANhB,wBAQa,GARb,GADF,cAYE,aAAK,SAAS,CAAC,eAAf,CAA+B,kBAAgB,kBAA/C,wBACE,YAAK,SAAS,CAAC,cAAf,wBADF,cAGE,aAAK,SAAS,CAAC,mBAAf,wBACE,WAAG,SAAS,CAAC,gBAAb,CAA8B,OAAO,CAAEL,YAAvC,kBACOpB,KAAK,GAAK,OAAV,CAAoB,QAApB,CAA+B,WADtC,GADF,CAIGQ,QAAQ,EACPA,QAAQ,CAACkB,GAAT,CAAa,SAACL,KAAD,qBACX,UAEE,OAAO,CAAE,yBAAMD,CAAAA,YAAY,CAACC,KAAD,CAAlB,EAFX,CAGE,SAAS,CAAC,gBAHZ,UAKGA,KAAK,CAACG,IALT,EACOH,KAAK,CAACE,EADb,CADW,EAAb,CALJ,GAHF,GAZF,GADF,EADF,CAoCD,CAjFD,CAmFA,cAAexB,CAAAA,KAAf","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport \"./Genres.css\";\n\nconst Genre = ({\n  media,\n  setFilterGenre,\n  setPage,\n  genreTitle,\n  setGenreTitle,\n  setTreadingContent,\n  treadingContent,\n  handleRedirect,\n}) => {\n  const [getGenre, setGetGenre] = useState([]);\n  const navigate = useHistory();\n  const fetchGenres = async () => {\n    try {\n      if (media) {\n        const { data } = await axios.get(\n          `https://api.themoviedb.org/3/genre/${media}/list?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`\n        );\n        setGetGenre(data.genres);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleFilter = (genre) => {\n    setFilterGenre([genre]);\n    setPage(1);\n    setGenreTitle(genre);\n    if (media === \"tv\") {\n      navigate.push(`/${media}=series${genre.id}-Category`);\n    } else if (media === \"movie\") {\n      navigate.push(`/${media}-${genre.name}-Category`);\n    } else if (!media) {\n      navigate.push(\"/all-movies\");\n    }\n  };\n\n  useEffect(() => {\n    fetchGenres();\n    return () => {\n      setGetGenre();\n    };\n  }, []);\n\n  return (\n    <>\n      <div className=\"dropdown\" style={{ position: \"relative \" }}>\n        <Link\n          className=\"btn btn-secondary dropdown-toggle mybtn\"\n          to=\"#\"\n          role=\"button\"\n          id=\"dropdownMenuLink\"\n          data-toggle=\"dropdown\"\n          aria-expanded=\"false\"\n        >\n          Filter By:{\" \"}\n        </Link>\n\n        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n          <div className=\"title__genre\">Categories</div>\n\n          <div className=\"category__content\">\n            <p className=\"dropdown-item3\" onClick={handleFilter}>\n              all {media === \"movie\" ? \"Movies\" : \"Tv series\"}\n            </p>\n            {getGenre &&\n              getGenre.map((genre) => (\n                <p\n                  key={genre.id}\n                  onClick={() => handleFilter(genre)}\n                  className=\"dropdown-item2\"\n                >\n                  {genre.name}\n                </p>\n              ))}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Genre;\n"]},"metadata":{},"sourceType":"module"}